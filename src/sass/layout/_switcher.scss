.switcher {
    display: flex;
    flex-wrap: wrap;
    row-gap: var(--switcher-row-gap);
    column-gap: var(--switcher-column-gap);
}

.switcher>* {
    flex-grow: 1;
    flex-basis: calc((var(--switcher-basis, 30rem) - 100%) * 999);
}

.switcher> :nth-last-child(n+ 5),
.switcher> :nth-last-child(n+ 5)~* {
    flex-basis: 100%;
}